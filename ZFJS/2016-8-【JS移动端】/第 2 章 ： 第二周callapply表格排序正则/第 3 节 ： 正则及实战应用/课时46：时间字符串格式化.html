<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <title>课时46：时间字符串格式化</title>
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <!--css-->
  <style>
  *{margin:0; padding:0;}
  body{font-family: "Hiragino Sans GB","Microsoft Yahei",arial,\5b8b\4f53,"Helvetica Neue",Helvetica,STHeiTi,sans-serif;}
  
  </style>
 </head>
 <body>
  

  
  <!--js-->
  <script>
  // 课时46：时间字符串格式化
	 var str = "2015-6-10 14:53:00"; 

 // 第一步：将指定格式的时间字符串的年月日等信息存入一个数组
	 
	  // 字符串转换成数组
	  var str = "2015-6-10 14:53:00";
	  var reg = /^(\d{4})[-/](\d){1,2}[-/](\d{1,2}) +(\d{1,2}):(\d{\,2}):(\d{1,2})$/g;
	  var ary = [];
	  str.replace(reg, function(){
		ary = ([].slice.call(arguments)).slice(1,7);		
	  });


	  // 2015年06月10日 14时53分00秒
	  // var a = new Data(str.replace("-","/").replace("-","/"));

	  // 设定好我们目标时间格式，把数组中对应的项替换指定的区域内
		 /*
		   {0} 替换成2015: 我们首先要获取{0}, 而且我们还要获取那个0, 这个0相当于我们ary数组中的索引，我们要做的就是相对应索引的内容替换我们{0}
		  */



  // 第二步：设定好我们目标时间格式，把数组中对应的项替换到指定的区域内
	  var resStr = "{0}年{1}月{2}日 {3}时{4}分{5}秒";	  
	  var reg = /{(\d+)}/g;

	  resStr = resStr.replace(reg, function(){
		  // 每一次都会正则匹配的内容捕获到：如果没有分组，一般是三个参数；但是如果正则有需要捕获的分组，参数的个数就不确定了，从arguments[1]开始就是对应分组捕获的内容，arguments[0]是大正则捕获的内容
		  var num = arguments[1];
		  var val = ary[num];

		  if(val < 10){
			val.length === 1 ? val = "0" + val : void 0;
		  }
		  return val;
		  
	  });
	  console.log(resStr); // 2015年6月10日 14时53分0秒
	 
	


  </script>
 </body>
</html>
